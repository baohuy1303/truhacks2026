<IfModule mod_ssl.c>
    <VirtualHost *:443>
        ServerName truhacks.truman.edu
	    ServerAdmin dbindner@truman.edu
   
        # enable HTTP/2, if available
        Protocols h2 http/1.1
      
        SSLEngine on
        SSLProxyEngine on
        SSLCertificateFile /etc/letsencrypt/live/ice.truman.edu/fullchain.pem
        SSLCertificateKeyFile /etc/letsencrypt/live/ice.truman.edu/privkey.pem
	    
	    SSLProxyEngine on
	    ProxyPreserveHost on

       # For Front End 
       ProxyPass / http://localhost:5173/
       ProxyPassReverse / http://localhost:5173/

       ErrorLog ${APACHE_LOG_DIR}/truhacks-error.log
       CustomLog ${APACHE_LOG_DIR}/truhacks-access.log combined

 </VirtualHost>
    
    # Mozilla Guideline v5.4, Apache 2.4.41, OpenSSL 1.1.1d, intermediate configuration, no OCSP
    SSLProtocol         all -SSLv3 -TLSv1 -TLSv1.1
    SSLCipherSuite      ECDHE-ECDSA-AES128-GCM-SHA256:ECDHE-RSA-AES128-GCM-SHA256:ECDHE-ECDSA-AES256-GCM-SHA384:ECDHE-RSA-AES256-GCM-SHA384:ECDHE-ECDSA-CHACHA20-POLY1305:ECDHE-RSA-CHACHA20-POLY1305:DHE-RSA-AES128-GCM-SHA256:DHE-RSA-AES256-GCM-SHA384
    SSLHonorCipherOrder off
    SSLSessionTickets   off
</IfModule>
